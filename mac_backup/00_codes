
20181101 models/

cas_share/shr/new_cosz and shr_orb_
new_cosz.F90  
shr_orb_mod.F90

2018-11-08
under cas-esm
added q05 routines into atm/iap/physics atm/iap/dynamics
shr_orb not changed because of new_cosz in cam_share/shr

2018-11-19
for restart, changed

tphysbc.F90
convect_deep       to pass tpert, qpert
convect_shallow    to pass above
zyx1_conv_intr     to remove pbuf
vertical_diffusion to remove pbuf


new_cosz_mod.F90

cheyenne
qsub run.qsub qdel qstat

yuan bsub < run.bsub bjobs bkill


git push git-server-iap:cas-esm.git development
git pull -f git-server-iap:cas-esm.git development

git reset --dard HEAD^^

git log --graph --oneline --decorate
git log -p --merge

git checkout --{ours,theirs} file 
git add file

git checkout -p branch file
git add file
git ls-files -s --abbrev

git merge -s recursive -X ours

-X ignore-space-change, ignore-all-space, ignore-space-at-eol

git diff
git diff HEAD
git diff master..contact-form
git diff v1.6.1.1 v1.6.1.2 -- sha1_file.c

git tag -a v1.3.0 -m "version 1.3.0"
git checkout tags/<tag_name>
git tag -l
git tag -a v1.2 9fceb02 -m "Message here"
git push --tags origin 
git push origin --tags
git tag -d v1.4-lw
git push origin :refs/tags/v1.4-lw

git checkout -- .

git remote show origin
git ls-remote --tags origin
git fetch --tags origin development

git remote add origin <remote reference>
git fetch
git log remotename/branchname

to do on trunk 11-21-2018
WXC option 
new_cosz_mod
shr_orb_mod

./create_newcase -case ~/case/b1850 -res fd14_licom -compset B1850C5X -mach storm 

grep -rl '/T1/xxie' ./ | xargs sed -i 's/T1\/xxie/T1\/mzhang/g'

find . -iname "flexib*"


branch and restart
1. restart, check rpointer.X files or change date, use "continue", same dates, restart freq
   and drv_in dates can be changed, but not atm_in files,
2. branch run: drv_in (different case name, "branch" type, start_ymd = rpointer dates_
               atm_in (branch_file, absolute path)
               ice_in (ice restart file to be consistent with rpointer)
               all pointer files should be available
======
software
netcdf -> download, ./configure -prefex (local/!!); make ; make install
apache -> download app/lampack ./runxxx, select available port ; in html/ do softlink

.,$s/write(\*,\*)/\!write(\*,\*)/g

rename fc35_365 fc35_365a fc35_365.*


qsub run.qsub (or ./jj1)
[edit drv_xxx atm_xxx casename, runtype, stop_n, restart_n, then run.qsub]

qsub run_resubmit.qsub (or ./jj1r)
[ edit resubmit_in for how many times, drv_xxx atm_xxx casename, runtype, stop_n, restart_n, then 
 run_resubmit.qsub]

The website is working now: http://storm.somas.stonybrook.edu:8080/minghua/
The steps to setup the website are:
1. Install the LAMP package.
    >> cd ~/app
    >> ./bitnami-lampstack-7.0.30-1-linux-x64-installer.run
    Choose Yes for every component
    Choose a folder to install the package (I choose /T1/mzhang/app/lampstack)
    Create MySQL root account password (This is not important, I usually just use 123456)
    The default port is 8080. If it is being used, the system will assign a new port like 8081, 8082 etc. and notice you at the end of the installation.
2. Link the folder.
    >> cd /T1/mzhang/app/lampstack/apache2/htdocs/
    >> ln -sf /T1/mzhang/minghua ./

